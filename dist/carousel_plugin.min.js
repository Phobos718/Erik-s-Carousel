!function(t){t.myNamespace||(t.myNamespace={}),t.myNamespace.ErikzCarousel=function(n,e){var s=this;s.$el=t(n),s.el=n,s.buttons={},s.indicator={},s.slides={},s.$el.data("myNamespace.ErikzCarousel",s),s.init=function(){s.options=t.extend({},t.myNamespace.ErikzCarousel.defaultOptions,e),s.buttons.init(),s.indicator.init(),s.highlightButtons(),s.buttons_enabled=!0,s.autoplay()},s.buttons.init=function(){s.options.buttons&&(t(".carousel").append('\x3c!-- Left/Right controls --\x3e\n<div class="button">\n<button class="bttn right">\n<p>&#10095;</p>\n</button>\n<button class="bttn left">\n<p>&#10094;</p>\n</button>\n</div>\n'),t(".right").click(function(){s.buttons_enabled&&s.buttons.click("right")}),t(".left").click(function(){s.buttons_enabled&&s.buttons.click("left")}))},s.buttons.click=function(i){_current_index=t(".indicator ul li").index(t(".active_button")),_next_index=_current_index===s.slides.buildArray().length-1?0:_current_index+1,_prev_index=0===_current_index?s.slides.buildArray().length-1:_current_index-1,"right"===i&&s.buttons_enabled&&(0!=_next_index||s.options.loopable)?s.slides.slideTo(_next_index,i):"left"===i&&s.buttons_enabled&&(0!=_current_index||s.options.loopable)&&s.slides.slideTo(_prev_index,i)},s.indicator.init=function(){if(s.options.indicator){for(_slideslength=s.slides.buildArray().length,t(".carousel").append('\x3c!-- Indicator --\x3e\n<div class="indicator bttn"><ul>\n<li class="indicator_button active_button"></li>\n'),i=2;i<=_slideslength;i++)t(".indicator ul").append('<li class="indicator_button"></li>\n');t(".indicator_button").click(function(){s.indicator.click(this)})}},s.indicator.click=function(i){s.buttons_enabled&&(t(".active_button").attr("class","indicator_button"),t(i).attr("class","indicator_button active_button"),t(".indicator ul li").index(i)>t(".slides ul li").index(t(".slide_active"))?s.slides.slideTo(t(".indicator ul li").index(i),"right"):t(".indicator ul li").index(i)<t(".slides ul li").index(t(".slide_active"))&&s.slides.slideTo(t(".indicator ul li").index(i),"left"))},s.slides.buildArray=function(){var n=[];for(i=1;i<=t(".slides ul").children().length;i++)n.push(t(".slides ul li:nth-child("+i.toString()+")"));return n},s.slides.slideTo=function(i,n){var e="",o=s.slides.buildArray()[i];s.buttons_enabled=!1,"right"===n?e=-t(".carousel").width():"left"===n&&(e=t(".carousel").width()),"slide"===s.options.animation?s.slides.animSlide(o,e):"fade"===s.options.animation&&s.slides.animFade(o),t(".active_button").attr("class","indicator_button"),t(".indicator ul li:nth-child("+(i+1)+")").attr("class","indicator_button active_button")},s.slides.animFade=function(i){i.css({opacity:"1","z-index":"-1"}),t(".slide_active").fadeTo(s.options.animSpeed,0,function(){t(".slide_active").attr("class","slide"),i.attr("class","slide_active"),i.css({"z-index":""}),s.buttons_enabled=!0})},s.slides.animSlide=function(i,n){i.css({right:n.toString()+"px",opacity:"1"}),t(".slide_active").animate({right:(-n).toString()+"px"},{duration:s.options.animSpeed,queue:!1,complete:function(){t(this).attr("class","slide").css({right:"",opacity:""})}}),i.animate({right:"0px"},{duration:s.options.animSpeed,queue:!1,complete:function(){t(this).attr("class","slide_active"),s.buttons_enabled=!0}})},s.highlightButtons=function(){t(".bttn").each(function(){t(this).mouseenter(function(){t(this).fadeTo("fast",.9)}),t(this).mouseleave(function(){t(this).fadeTo("fast",.4)})})},s.autoplay=function(){s.options.autoplay&&window.setInterval(function(){s.buttons.click("right")},s.options.autoplay)},s.init()},t.myNamespace.ErikzCarousel.defaultOptions={animSpeed:500,animation:"slide",loopable:!0,autoplay:!1,indicator:!0,buttons:!0},t.fn.ErikzCarousel=function(i){return this.each(function(){new t.myNamespace.ErikzCarousel(this,i)})}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcm91c2VsX3BsdWdpbi5qcyJdLCJuYW1lcyI6WyIkIiwibXlOYW1lc3BhY2UiLCJFcmlrekNhcm91c2VsIiwiZWwiLCJvcHRpb25zIiwiYmFzZSIsInRoaXMiLCIkZWwiLCJidXR0b25zIiwiaW5kaWNhdG9yIiwic2xpZGVzIiwiZGF0YSIsImluaXQiLCJleHRlbmQiLCJkZWZhdWx0T3B0aW9ucyIsImhpZ2hsaWdodEJ1dHRvbnMiLCJidXR0b25zX2VuYWJsZWQiLCJhdXRvcGxheSIsImFwcGVuZCIsImNsaWNrIiwiZGlyZWN0aW9uIiwiX2N1cnJlbnRfaW5kZXgiLCJpbmRleCIsIl9uZXh0X2luZGV4IiwiYnVpbGRBcnJheSIsImxlbmd0aCIsIl9wcmV2X2luZGV4IiwibG9vcGFibGUiLCJzbGlkZVRvIiwiX3NsaWRlc2xlbmd0aCIsImkiLCJjbGlja2VkX2J1dHRvbiIsImF0dHIiLCJfc2xpZGVzIiwiY2hpbGRyZW4iLCJwdXNoIiwidG9TdHJpbmciLCJfb2Zmc2V0IiwiX2VsZW1lbnQiLCJ3aWR0aCIsImFuaW1hdGlvbiIsImFuaW1TbGlkZSIsImFuaW1GYWRlIiwiY3NzIiwib3BhY2l0eSIsInotaW5kZXgiLCJmYWRlVG8iLCJhbmltU3BlZWQiLCJyaWdodCIsImFuaW1hdGUiLCJkdXJhdGlvbiIsInF1ZXVlIiwiY29tcGxldGUiLCJlYWNoIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiLCJ3aW5kb3ciLCJzZXRJbnRlcnZhbCIsImZuIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FBQyxTQUFZQSxHQUNKQSxFQUFFQyxjQUNIRCxFQUFFQyxnQkFHTkQsRUFBRUMsWUFBWUMsY0FBZ0IsU0FBV0MsRUFBSUMsR0FFekMsSUFBSUMsRUFBT0MsS0FFWEQsRUFBS0UsSUFBYVAsRUFBRUcsR0FDcEJFLEVBQUtGLEdBQWFBLEVBQ2xCRSxFQUFLRyxXQUNMSCxFQUFLSSxhQUNMSixFQUFLSyxVQUNMTCxFQUFLRSxJQUFJSSxLQUFNLDRCQUE4Qk4sR0FFN0NB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QUNkUCxVQUFjLFFBQ2RiLFVBQWMsRUFDZFYsVUFBYyxFQUNkUixXQUFjLEVBQ2RELFNBQWMsR0FHdEJSLEVBQUUwRCxHQUFHeEQsY0FBZ0IsU0FBV0UsR0FDNUIsT0FBT0UsS0FBSytDLEtBQUssV0FDYixJQUFLckQsRUFBRUMsWUFBWUMsY0FBY0ksS0FBTUYsT0FJL0N1RCIsImZpbGUiOiJjYXJvdXNlbF9wbHVnaW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiOyhmdW5jdGlvbiAoICQgKSB7XG4gICAgaWYgKCEkLm15TmFtZXNwYWNlKSB7XG4gICAgICAgICQubXlOYW1lc3BhY2UgPSB7fTtcbiAgICB9XG5cbiAgICAkLm15TmFtZXNwYWNlLkVyaWt6Q2Fyb3VzZWwgPSBmdW5jdGlvbiAoIGVsLCBvcHRpb25zICkge1xuXG4gICAgICAgIHZhciBiYXNlID0gdGhpcztcblxuICAgICAgICBiYXNlLiRlbCAgICAgICAgPSAkKGVsKTtcbiAgICAgICAgYmFzZS5lbCAgICAgICAgID0gZWw7XG4gICAgICAgIGJhc2UuYnV0dG9ucyAgICA9IHt9O1xuICAgICAgICBiYXNlLmluZGljYXRvciAgPSB7fTtcbiAgICAgICAgYmFzZS5zbGlkZXMgICAgID0ge307XG4gICAgICAgIGJhc2UuJGVsLmRhdGEoIFwibXlOYW1lc3BhY2UuRXJpa3pDYXJvdXNlbFwiICwgYmFzZSApO1xuXG4gICAgICAgIGJhc2UuaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgYmFzZS5vcHRpb25zID0gJC5leHRlbmQoe30sICQubXlOYW1lc3BhY2UuRXJpa3pDYXJvdXNlbC5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgICAgICBiYXNlLmJ1dHRvbnMuaW5pdCgpO1xuICAgICAgICAgICAgYmFzZS5pbmRpY2F0b3IuaW5pdCgpOyAgICAgICAgICAgXG4gICAgICAgICAgICBiYXNlLmhpZ2hsaWdodEJ1dHRvbnMoKTtcbiAgICAgICAgICAgIGJhc2UuYnV0dG9uc19lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGJhc2UuYXV0b3BsYXkoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBiYXNlLmJ1dHRvbnMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGJhc2Uub3B0aW9ucy5idXR0b25zKSB7XG4gICAgICAgICAgICAgICAgJCgnLmNhcm91c2VsJykuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAnPCEtLSBMZWZ0L1JpZ2h0IGNvbnRyb2xzIC0tPlxcbjxkaXYgY2xhc3M9XCJidXR0b25cIj5cXG48YnV0dG9uIGNsYXNzPVwiYnR0biByaWdodFwiPlxcbjxwPiYjMTAwOTU7PC9wPlxcbicrXG4gICAgICAgICAgICAgICAgICAgICc8L2J1dHRvbj5cXG48YnV0dG9uIGNsYXNzPVwiYnR0biBsZWZ0XCI+XFxuPHA+JiMxMDA5NDs8L3A+XFxuPC9idXR0b24+XFxuPC9kaXY+XFxuJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgJCgnLnJpZ2h0JykuY2xpY2soXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZS5idXR0b25zX2VuYWJsZWQpIHsgYmFzZS5idXR0b25zLmNsaWNrKCdyaWdodCcpOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICQoJy5sZWZ0JykuY2xpY2soXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZS5idXR0b25zX2VuYWJsZWQpIHsgYmFzZS5idXR0b25zLmNsaWNrKCdsZWZ0Jyk7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgYmFzZS5idXR0b25zLmNsaWNrID0gZnVuY3Rpb24oZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgX2N1cnJlbnRfaW5kZXggID0gJCgnLmluZGljYXRvciB1bCBsaScpLmluZGV4KCQoJy5hY3RpdmVfYnV0dG9uJykpLFxuICAgICAgICAgICAgICAgIF9uZXh0X2luZGV4ICAgICA9IF9jdXJyZW50X2luZGV4ID09PSBiYXNlLnNsaWRlcy5idWlsZEFycmF5KCkubGVuZ3RoIC0gMSA/IDAgOiBfY3VycmVudF9pbmRleCArIDEsXG4gICAgICAgICAgICAgICAgX3ByZXZfaW5kZXggICAgID0gX2N1cnJlbnRfaW5kZXggPT09IDAgPyBiYXNlLnNsaWRlcy5idWlsZEFycmF5KCkubGVuZ3RoIC0gMSA6IF9jdXJyZW50X2luZGV4IC0gMTsgXG5cbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdyaWdodCcgJiYgYmFzZS5idXR0b25zX2VuYWJsZWQgJiYgKF9uZXh0X2luZGV4ICE9IDAgfHwgYmFzZS5vcHRpb25zLmxvb3BhYmxlKSkge1xuICAgICAgICAgICAgICAgIGJhc2Uuc2xpZGVzLnNsaWRlVG8oX25leHRfaW5kZXgsIGRpcmVjdGlvbik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ2xlZnQnICYmIGJhc2UuYnV0dG9uc19lbmFibGVkICYmIChfY3VycmVudF9pbmRleCAhPSAwIHx8IGJhc2Uub3B0aW9ucy5sb29wYWJsZSkpIHtcbiAgICAgICAgICAgICAgICBiYXNlLnNsaWRlcy5zbGlkZVRvKF9wcmV2X2luZGV4LCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGJhc2UuaW5kaWNhdG9yLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChiYXNlLm9wdGlvbnMuaW5kaWNhdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIF9zbGlkZXNsZW5ndGggICA9IGJhc2Uuc2xpZGVzLmJ1aWxkQXJyYXkoKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgJCgnLmNhcm91c2VsJykuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAnPCEtLSBJbmRpY2F0b3IgLS0+XFxuJytcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpbmRpY2F0b3IgYnR0blwiPjx1bD5cXG4nK1xuICAgICAgICAgICAgICAgICAgICAnPGxpIGNsYXNzPVwiaW5kaWNhdG9yX2J1dHRvbiBhY3RpdmVfYnV0dG9uXCI+PC9saT5cXG4nXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBmb3IoaSA9IDI7IGkgPD0gX3NsaWRlc2xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5pbmRpY2F0b3IgdWwnKS5hcHBlbmQoJzxsaSBjbGFzcz1cImluZGljYXRvcl9idXR0b25cIj48L2xpPlxcbicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkKCcuaW5kaWNhdG9yX2J1dHRvbicpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIGJhc2UuaW5kaWNhdG9yLmNsaWNrKHRoaXMpOyBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBiYXNlLmluZGljYXRvci5jbGljayA9IGZ1bmN0aW9uKGNsaWNrZWRfYnV0dG9uKSB7XG4gICAgICAgICAgICBpZiAoYmFzZS5idXR0b25zX2VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAkKCcuYWN0aXZlX2J1dHRvbicpLmF0dHIoJ2NsYXNzJywgJ2luZGljYXRvcl9idXR0b24nKTtcbiAgICAgICAgICAgICAgICAkKGNsaWNrZWRfYnV0dG9uKS5hdHRyKCdjbGFzcycsICdpbmRpY2F0b3JfYnV0dG9uIGFjdGl2ZV9idXR0b24nKTtcbiAgICAgICAgICAgICAgICBpZiAoICQoJy5pbmRpY2F0b3IgdWwgbGknKS5pbmRleChjbGlja2VkX2J1dHRvbikgPiAkKCcuc2xpZGVzIHVsIGxpJykuaW5kZXgoJCgnLnNsaWRlX2FjdGl2ZScpKSkge1xuICAgICAgICAgICAgICAgICAgICBiYXNlLnNsaWRlcy5zbGlkZVRvKCAkKCcuaW5kaWNhdG9yIHVsIGxpJykuaW5kZXgoY2xpY2tlZF9idXR0b24pLCAncmlnaHQnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCAkKCcuaW5kaWNhdG9yIHVsIGxpJykuaW5kZXgoY2xpY2tlZF9idXR0b24pIDwgJCgnLnNsaWRlcyB1bCBsaScpLmluZGV4KCQoJy5zbGlkZV9hY3RpdmUnKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZS5zbGlkZXMuc2xpZGVUbyggJCgnLmluZGljYXRvciB1bCBsaScpLmluZGV4KGNsaWNrZWRfYnV0dG9uKSwgJ2xlZnQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgYmFzZS5zbGlkZXMuYnVpbGRBcnJheSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIF9zbGlkZXMgPSBbXTtcbiAgICAgICAgICAgIGZvcihpID0gMTsgaSA8PSAkKCcuc2xpZGVzIHVsJykuY2hpbGRyZW4oKS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIF9zbGlkZXMucHVzaCgkKCcuc2xpZGVzIHVsIGxpOm50aC1jaGlsZCgnICsgaS50b1N0cmluZygpICsgJyknKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX3NsaWRlcztcbiAgICAgICAgfSxcblxuICAgICAgICBiYXNlLnNsaWRlcy5zbGlkZVRvID0gZnVuY3Rpb24oaW5kZXgsIGRpcmVjdGlvbikge1xuICAgICAgICAgICAgdmFyIF9vZmZzZXQgICAgID0gJycsXG4gICAgICAgICAgICAgICAgX2VsZW1lbnQgICAgPSBiYXNlLnNsaWRlcy5idWlsZEFycmF5KClbaW5kZXhdO1xuICAgICAgICAgICAgYmFzZS5idXR0b25zX2VuYWJsZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgIF9vZmZzZXQgPSAtJCgnLmNhcm91c2VsJykud2lkdGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgICAgICAgICAgICBfb2Zmc2V0ID0gJCgnLmNhcm91c2VsJykud2lkdGgoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGJhc2Uub3B0aW9ucy5hbmltYXRpb24gPT09ICdzbGlkZScpIHtcbiAgICAgICAgICAgICAgICBiYXNlLnNsaWRlcy5hbmltU2xpZGUoX2VsZW1lbnQsIF9vZmZzZXQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChiYXNlLm9wdGlvbnMuYW5pbWF0aW9uID09PSAnZmFkZScpIHtcbiAgICAgICAgICAgICAgICBiYXNlLnNsaWRlcy5hbmltRmFkZShfZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkKCcuYWN0aXZlX2J1dHRvbicpLmF0dHIoJ2NsYXNzJywgJ2luZGljYXRvcl9idXR0b24nKTtcbiAgICAgICAgICAgICQoJy5pbmRpY2F0b3IgdWwgbGk6bnRoLWNoaWxkKCcgKyAoaW5kZXggKyAxKSArICcpJykuYXR0cignY2xhc3MnLCAnaW5kaWNhdG9yX2J1dHRvbiBhY3RpdmVfYnV0dG9uJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYmFzZS5zbGlkZXMuYW5pbUZhZGUgPSBmdW5jdGlvbihfZWxlbWVudCkge1xuICAgICAgICAgICAgX2VsZW1lbnQuY3NzKHtcbiAgICAgICAgICAgICAgICAnb3BhY2l0eScgOiAnMScsXG4gICAgICAgICAgICAgICAgJ3otaW5kZXgnIDogJy0xJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkKCcuc2xpZGVfYWN0aXZlJykuZmFkZVRvKGJhc2Uub3B0aW9ucy5hbmltU3BlZWQsIDAsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgJCgnLnNsaWRlX2FjdGl2ZScpLmF0dHIoJ2NsYXNzJywgJ3NsaWRlJyk7XG4gICAgICAgICAgICAgICAgX2VsZW1lbnQuYXR0cignY2xhc3MnLCAnc2xpZGVfYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgX2VsZW1lbnQuY3NzKHtcbiAgICAgICAgICAgICAgICAnei1pbmRleCcgOiAnJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYmFzZS5idXR0b25zX2VuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYmFzZS5zbGlkZXMuYW5pbVNsaWRlID0gZnVuY3Rpb24oX2VsZW1lbnQsIF9vZmZzZXQpIHtcbiAgICAgICAgICAgIF9lbGVtZW50LmNzcyh7XG4gICAgICAgICAgICAgICAgJ3JpZ2h0JyA6IF9vZmZzZXQudG9TdHJpbmcoKSArICdweCcsXG4gICAgICAgICAgICAgICAgJ29wYWNpdHknIDogJzEnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQoJy5zbGlkZV9hY3RpdmUnKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICByaWdodDogKC1fb2Zmc2V0KS50b1N0cmluZygpICsgJ3B4J1xuICAgICAgICAgICAgfSwgeyBkdXJhdGlvbjogYmFzZS5vcHRpb25zLmFuaW1TcGVlZCwgcXVldWU6IGZhbHNlLCBjb21wbGV0ZTogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2NsYXNzJywgJ3NsaWRlJykuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgJ3JpZ2h0JyA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAnb3BhY2l0eScgOiAnJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gfSk7XG4gICAgICAgICAgICBfZWxlbWVudC5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICByaWdodDogJzBweCdcbiAgICAgICAgICAgIH0sIHsgZHVyYXRpb246IGJhc2Uub3B0aW9ucy5hbmltU3BlZWQsIHF1ZXVlOiBmYWxzZSwgY29tcGxldGU6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdjbGFzcycsICdzbGlkZV9hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICBiYXNlLmJ1dHRvbnNfZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICB9IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYmFzZS5oaWdobGlnaHRCdXR0b25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCcuYnR0bicpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5tb3VzZWVudGVyKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZmFkZVRvKCdmYXN0JywwLjkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICQodGhpcykubW91c2VsZWF2ZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZhZGVUbygnZmFzdCcsMC40KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGJhc2UuYXV0b3BsYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChiYXNlLm9wdGlvbnMuYXV0b3BsYXkpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0SW50ZXJ2YWwoXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2UuYnV0dG9ucy5jbGljaygncmlnaHQnKTsgXG4gICAgICAgICAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgICAgICAgICBiYXNlLm9wdGlvbnMuYXV0b3BsYXlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYmFzZS5pbml0KCk7XG4gICAgfTtcblxuICAgICQubXlOYW1lc3BhY2UuRXJpa3pDYXJvdXNlbC5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGFuaW1TcGVlZCAgIDogNTAwLFxuICAgICAgICAgICAgYW5pbWF0aW9uICAgOiAnc2xpZGUnLCAgLy8gYWx0ZXJuYXRpdmVseSAnZmFkZSdcbiAgICAgICAgICAgIGxvb3BhYmxlICAgIDogdHJ1ZSxcbiAgICAgICAgICAgIGF1dG9wbGF5ICAgIDogZmFsc2UsICAgIC8vIGZhbHNlIGZvciBvZmYgb3IgZnJlcXVlbmN5IGluIG1pbGlzZWNvbmRzXG4gICAgICAgICAgICBpbmRpY2F0b3IgICA6IHRydWUsXG4gICAgICAgICAgICBidXR0b25zICAgICA6IHRydWVcbiAgICB9O1xuXG4gICAgJC5mbi5FcmlrekNhcm91c2VsID0gZnVuY3Rpb24gKCBvcHRpb25zICkge1xuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIChuZXcgJC5teU5hbWVzcGFjZS5FcmlrekNhcm91c2VsKHRoaXMsIG9wdGlvbnMpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxufSkoIGpRdWVyeSApOyJdfQ==
